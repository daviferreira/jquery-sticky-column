!function(a,b){"use strict";function c(b,c){this.options=a.extend({},e,c),this.defaults=e,this.name=d,this.root=a(b),this.init()}var d="stickyColumn",e={column:".jquery-sticky-column",content:".jquery-sticky-column-content",tolerance:110},f={position:"",top:""};c.prototype.init=function(){var c=this;this.column=this.root.find(this.options.column),this.content=this.root.find(this.options.content),this.lastScrollTop=0,this.canBeSticky()===!0&&a(b).bind("scroll.jquery_sticky_column",function(){c.setScrollDirection().setBoundaries().positionColumn()})},c.prototype.canBeSticky=function(){return this.column.height()<this.content.height()&&this.column.height()>a(b).height()},c.prototype.setBoundaries=function(){var c=this.content.offset().top,d=this.content.outerHeight();return this.boundaries={contentTop:c,contentBottom:c+d,contentHeight:d,columnHeight:this.column.outerHeight(),windowHeight:a(b).height()},this},c.prototype.positionColumn=function(){return this.lastScrollTop>this.boundaries.contentTop&&this.lastScrollTop<this.boundaries.contentBottom?this["DOWN"===this.scrollDirection?"scrollDown":"scrollUp"]():this.lastScrollTop<this.boundaries.contentTop&&this.column.css("top","").removeClass("jquery-sticky-column-top-fixed"),this},c.prototype.scrollDown=function(){var a,b=this.lastScrollTop+this.boundaries.windowHeight;this.column.hasClass("jquery-sticky-column-scrolling-up")?this.column.removeClass("jquery-sticky-column-scrolling-up").addClass("jquery-sticky-column-scrolling-down"):this.column.hasClass("jquery-sticky-column-top-fixed")&&(a=this.column.offset().top-this.boundaries.contentTop,this.column.removeClass("jquery-sticky-column-top-fixed").css({position:"absolute",top:a}).addClass("jquery-sticky-column-scrolling-down")),this.column.hasClass("jquery-sticky-column-scrolling-down")?b>this.column.offset().top+this.boundaries.columnHeight&&this.column.css(f).addClass("jquery-sticky-column-bottom-fixed").removeClass("jquery-sticky-column-scrolling-down"):b>this.boundaries.contentBottom?this.column.removeClass("jquery-sticky-column-bottom-fixed").css({position:"absolute",top:this.boundaries.contentHeight-this.boundaries.columnHeight}):b+this.options.tolerance>this.boundaries.columnHeight+this.boundaries.contentTop&&this.column.css(f).removeClass("jquery-sticky-column-top-fixed").addClass("jquery-sticky-column-bottom-fixed")},c.prototype.scrollUp=function(){this.column.hasClass("jquery-sticky-column-scrolling-down")?this.column.removeClass("jquery-sticky-column-scrolling-down").addClass("jquery-sticky-column-scrolling-up"):this.column.hasClass("jquery-sticky-column-bottom-fixed")&&this.column.css({position:"absolute",top:this.column.offset().top-this.boundaries.contentTop}).removeClass("jquery-sticky-column-bottom-fixed").addClass("jquery-sticky-column-scrolling-up"),this.column.hasClass("jquery-sticky-column-scrolling-up")?this.lastScrollTop<this.column.offset().top&&this.column.css(f).addClass("jquery-sticky-column-top-fixed").removeClass("jquery-sticky-column-scrolling-up"):this.lastScrollTop<this.boundaries.contentTop?this.column.css("position","").removeClass("jquery-sticky-column-top-fixed"):this.lastScrollTop-this.options.tolerance<this.boundaries.contentBottom-this.boundaries.columnHeight&&this.column.css(f).removeClass("jquery-sticky-column-bottom-fixed").addClass("jquery-sticky-column-top-fixed")},c.prototype.setScrollDirection=function(){var c=a(b).scrollTop();return this.scrollDirection=c>this.lastScrollTop?"DOWN":"UP",this.lastScrollTop=c,this},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window);